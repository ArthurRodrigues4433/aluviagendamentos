<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="https://public-frontend-cos.metadl.com/mgx/img/favicon.png" type="image/png">
    <title>SaaS Agendamento - Agende seu serviço</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/frontend/assets/styles.css">
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="nav">
                <a href="/" class="logo">✨ Aluvi Agendamentos</a>
                <ul class="nav-links">
                    <li><a href="/login.html">🔐 Login</a></li>
                    <li><a href="/register.html">📝 Cadastro</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>O tempo está do seu lado</h1>
            <p>O Aluvi é a base para negócios que querem escalar com organização e agilidade.</p>
        </div>
    </section>

    <!-- Main Content -->
    <main class="container">
        <!-- Funcionalidades do Sistema -->
        <section class="card">
            <div class="card-header">
                <h2 class="card-title">🎯 Funcionalidades do Sistema</h2>
                <p>Descubra tudo que nosso sistema pode fazer por você</p>
            </div>
            
            <div class="grid grid-2">
                <!-- Card Agendamento -->
                <div class="form-group">
                    <div class="service-card" style="background: var(--input-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 1.5rem; height: 100%;">
                        <h3 style="color: var(--text-primary); margin-bottom: 0.5rem; font-size: 1.1rem; font-weight: 600;">📅 Agendamento fácil</h3>
                        <p style="color: var(--text-secondary); margin: 0; font-size: 0.9rem; line-height: 1.4;">Marque e acompanhe compromissos de forma simples e intuitiva.</p>
                    </div>
                </div>

                <!-- Card Gestão de Clientes -->
                <div class="form-group">
                    <div class="service-card" style="background: var(--input-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 1.5rem; height: 100%;">
                        <h3 style="color: var(--text-primary); margin-bottom: 0.5rem; font-size: 1.1rem; font-weight: 600;">👤 Gestão de clientes</h3>
                        <p style="color: var(--text-secondary); margin: 0; font-size: 0.9rem; line-height: 1.4;">Organize informações de todos os seus clientes em um só lugar.</p>
                    </div>
                </div>

                <!-- Card Controle de Serviços -->
                <div class="form-group">
                    <div class="service-card" style="background: var(--input-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 1.5rem; height: 100%;">
                        <h3 style="color: var(--text-primary); margin-bottom: 0.5rem; font-size: 1.1rem; font-weight: 600;">💼 Controle de serviços</h3>
                        <p style="color: var(--text-secondary); margin: 0; font-size: 0.9rem; line-height: 1.4;">Cadastre e gerencie todos os seus serviços com facilidade.</p>
                    </div>
                </div>

                <!-- Card Pontos De Fidelidade -->
                <div class="form-group">
                    <div class="service-card" style="background: var(--input-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 1.5rem; height: 100%;">
                        <h3 style="color: var(--text-primary); margin-bottom: 0.5rem; font-size: 1.1rem; font-weight: 600;">🎁 Pontos de Fidelidade</h3>
                        <p style="color: var(--text-secondary); margin: 0; font-size: 0.9rem; line-height: 1.4;">Cada agendamento gera pontos. Seus clientes acumulam, trocam por benefícios e voltam com mais frequência. Simples, automático e eficaz.</p>
                    </div>
                </div>

                <!-- Card Dashboards -->
                <div class="form-group">
                    <div class="service-card" style="background: var(--input-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 1.5rem; height: 100%;">
                        <h3 style="color: var(--text-primary); margin-bottom: 0.5rem; font-size: 1.1rem; font-weight: 600;">📊 Dashboards Inteligentes Cliente e Dono</h3>
                        <p style="color: var(--text-secondary); margin: 0; font-size: 0.9rem; line-height: 1.4;">Clientes acompanham agendamentos e pontos. Donos gerenciam tudo com dados em tempo real. Cada um com a visão certa, no lugar certo.</p>
                    </div>
                </div>

                <!-- Card Notificações -->
                <div class="form-group">
                    <div class="service-card" style="background: var(--input-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 1.5rem; height: 100%;">
                        <h3 style="color: var(--text-primary); margin-bottom: 0.5rem; font-size: 1.1rem; font-weight: 600;">🔔 Notificações inteligentes</h3>
                        <p style="color: var(--text-secondary); margin: 0; font-size: 0.9rem; line-height: 1.4;">Receba lembretes automáticos e mantenha-se sempre organizado.</p>
                    </div>
                </div>
            </div>

            <!-- Botão de Login -->
            <div class="text-center" style="margin-top: 2rem;">
                <a href="/login.html" class="btn btn-primary">
                    ✨ Fazer Login para Acessar ✨
                </a>
            </div>
        </section>

        <!-- Lista de Serviços Disponíveis -->
        <section class="card">
            <div class="card-header">
                <h2 class="card-title">🌟 Nossos Serviços</h2>
                <p>Conheça todos os serviços disponíveis</p>
            </div>
            <div id="servicesList" class="grid grid-3">
                <div class="loading">Carregando serviços...</div>
            </div>
        </section>

        <!-- Seção de Recursos -->
        <section class="card">
            <div class="card-header">
                <h2 class="card-title">🚀 Por que escolher nosso sistema?</h2>
            </div>
            <div class="grid grid-3">
                <div class="service-card">
                    <h3>⚡ Rápido e Fácil</h3>
                    <p>Agende em poucos cliques, sem complicações. Nossa interface intuitiva torna o processo simples e eficiente.</p>
                </div>
                <div class="service-card">
                    <h3>🔒 Seguro e Confiável</h3>
                    <p>Seus dados estão protegidos com as mais avançadas tecnologias de segurança e criptografia.</p>
                </div>
                <div class="service-card">
                    <h3>📱 Responsivo</h3>
                    <p>Acesse de qualquer dispositivo - computador, tablet ou smartphone. Sempre com a melhor experiência.</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Scripts -->
    <script src="/frontend/config.js"></script>
    <script src="/frontend/app.js"></script>
    <script>
        // Variáveis globais
        let services = [];

        // Inicialização da página
        document.addEventListener('DOMContentLoaded', async function() {
            addFadeInAnimation();
            await loadServices();
        });

        // Adicionar animações de entrada
        function addFadeInAnimation() {
            const elements = document.querySelectorAll('.fade-in');
            elements.forEach((el, index) => {
                el.style.animationDelay = `${index * 0.1}s`;
            });
        }

        // Carregar serviços
        async function loadServices() {
            try {
                // Tentar carregar serviços públicos do backend (não requer autenticação)
                const response = await api.getPublicServices();
                services = response || [];
                displayServicesList();
            } catch (error) {
                console.error('Erro ao carregar serviços:', error);
                // Mostrar dados de exemplo quando não conseguir conectar
                console.log('Carregando dados de exemplo...');
                showExampleData();
            }
        }

        // Mostrar dados de exemplo para demonstração
        function showExampleData() {
            services = [
                { id: 1, nome: 'Corte de Cabelo', descricao: 'Corte moderno e estiloso', preco: 50.00, duracao_minutos: 45 },
                { id: 2, nome: 'Manicure', descricao: 'Cuidado completo das unhas', preco: 35.00, duracao_minutos: 30 },
                { id: 3, nome: 'Massagem Relaxante', descricao: 'Massagem terapêutica para relaxamento', preco: 80.00, duracao_minutos: 60 },
                { id: 4, nome: 'Limpeza de Pele', descricao: 'Tratamento facial completo', preco: 120.00, duracao_minutos: 90 }
            ];

            displayServicesList();

            // Mostrar aviso sobre dados de demonstração
            setTimeout(() => {
                UI.showSuccess('📋 Dados de demonstração carregados. Faça login para ver dados reais.');
            }, 1000);
        }

        // Exibir lista de serviços
        function displayServicesList() {
            const servicesList = document.getElementById('servicesList');

            if (services.length === 0) {
                servicesList.innerHTML = '<p class="text-center">Nenhum serviço disponível no momento.</p>';
                return;
            }

            servicesList.innerHTML = services.map(service => `
                <div class="service-card">
                    <h3>${service.nome || service.name}</h3>
                    <p>${service.descricao || service.description || 'Descrição não disponível'}</p>
                    <div class="d-flex justify-between align-center mt-2">
                        <span class="price">${Formatter.currency(service.preco || service.price)}</span>
                        <span class="badge badge-info">${service.duracao_minutos ? service.duracao_minutos + ' min' : 'Consulte'}</span>
                    </div>
                </div>
            `).join('');
        }
    </script>
</body>

</html>